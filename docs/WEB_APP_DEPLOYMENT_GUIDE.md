# 📱 HT Dashboard Web App 部署指南
*HT Dashboard Web App Deployment Guide*

## 🎯 目標
為 HT（學年主任）提供一個獨立的網址，讓他們可以直接使用評量標題同步功能，無需了解 Google Apps Script 或找特定檔案。

---

## 🚀 部署步驟

### **步驟 1：開啟 Google Apps Script 專案**
1. 前往您的 Google Apps Script 專案（包含成績簿系統程式碼的專案）
2. 確認已包含所有必要檔案：
   - `Code.gs`
   - `CodeExtensions.gs`
   - `dashboard_for_HT.html`
   - `dashboard.html`

### **步驟 2：部署為 Web App**
1. **點擊右上角 `部署` 按鈕**
2. **選擇 `新增部署`**
3. **設定部署配置：**
   - **類型**：選擇 `網頁應用程式`
   - **說明**：輸入 `HT Dashboard - Assessment Title Sync`
   - **執行身分**：選擇 `我`
   - **存取權限**：選擇 `任何人`

4. **點擊 `部署` 按鈕**

### **步驟 3：取得 Web App 網址**
部署完成後，您會看到：
```
網頁應用程式
URL: https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec
```

**複製這個 URL - 這就是 HT 使用的網址！**

### **步驟 4：測試 Web App**
1. **開啟新的無痕瀏覽器視窗**
2. **貼上 Web App URL**
3. **應該會看到 HT 登入畫面**
4. **選擇一個 HT 身份進行測試**

---

## 🎯 HT 專用網址

### **主要 HT Dashboard（推薦）**
```
https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec?page=ht
```

### **一般控制台（管理者用）**
```
https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec
```

---

## 👨‍🏫 HT 使用方式

### **超簡單三步驟：**

#### **步驟 1：開啟專用網址**
- HT 點擊您提供的網址
- 會自動開啟 HT Dashboard 登入畫面

#### **步驟 2：選擇身份**
- 從下拉選單中選擇自己的 HT 身份
- 例如：`Ms. Taylor (G3-G4 LT HT)`
- 點擊 `登入 HT Dashboard` 按鈕

#### **步驟 3：管理評量標題**
- 系統自動載入該 HT 負責的評量標題
- 直接在表格中編輯標題
- 點擊 `同步所有級別` 完成同步

---

## ✨ 功能特色

### **✅ 對 HT 的優勢：**
- **🌐 直接網址存取**：無需知道 Google Apps Script
- **🔐 安全身份驗證**：自動驗證 HT 權限
- **📱 響應式設計**：支援電腦、平板、手機
- **🎯 專用界面**：只顯示相關功能
- **🔄 即時同步**：一鍵完成所有教師同步
- **🌏 雙語支援**：完整中英文界面

### **✅ 對管理者的優勢：**
- **🚀 一次部署，全員可用**
- **🛡️ 集中權限控制**
- **📊 統一更新維護**
- **🔍 操作記錄追蹤**
- **⚡ 高效能 Web App**

---

## 🛡️ 安全機制

### **權限控制：**
- **身份驗證**：HT 必須從系統內建名單中選擇身份
- **範圍限制**：只能管理自己負責的年段組
- **操作記錄**：所有同步操作都有詳細日誌
- **錯誤恢復**：完善的錯誤處理和回滾機制

### **資料保護：**
- **唯讀存取**：HT 無法存取其他年段組資料
- **原始資料保護**：不會影響學生成績資料
- **備份機制**：操作前自動備份評量標題

---

## 📋 管理者檢查清單

### **部署前檢查：**
- [ ] 確認 `MAIN_FOLDER_ID` 設定正確
- [ ] 確認所有 HT 成績簿已建立
- [ ] 確認 HT 資料在 Master Data 中正確設定
- [ ] 測試主控台功能正常

### **部署後檢查：**
- [ ] Web App URL 正常存取
- [ ] HT 登入畫面正確顯示
- [ ] 可以選擇所有 HT 身份
- [ ] 測試同步功能正常運作
- [ ] 檢查權限控制有效

### **交付給 HT：**
- [ ] 提供專用 Web App URL
- [ ] 提供簡單的使用說明
- [ ] 進行實際操作示範
- [ ] 建立支援聯絡方式

---

## 🆘 故障排除

### **常見問題：**

#### **Q: HT 登入時看不到自己的名字**
**A:** 檢查 Master Data 的 HT 工作表，確認 HT 資料正確設定

#### **Q: 同步時顯示 "找不到目標教師"**
**A:** 確認相關教師的成績簿已經建立且命名正確

#### **Q: Web App 顯示錯誤頁面**
**A:** 檢查 Google Apps Script 的執行權限和部署設定

#### **Q: 同步後教師成績簿沒有更新**
**A:** 檢查教師成績簿的工作表命名是否符合系統格式

---

## 📞 技術支援

### **管理者支援：**
- 查看 Google Apps Script 執行記錄
- 檢查系統資料夾結構
- 驗證 HT 資料設定
- 測試同步功能

### **HT 支援：**
- 提供 Web App URL
- 協助身份選擇
- 指導評量標題編輯
- 解釋同步結果

---

## 🎉 部署完成

**Web App 部署完成後，您可以：**

1. **✅ 將 HT 專用網址分享給所有學年主任**
2. **✅ 提供簡單的三步驟使用指南**
3. **✅ 享受完全自動化的評量標題管理系統**

**HT 現在可以完全獨立操作，無需任何技術知識！** 🚀

---

*部署指南版本：v1.0*  
*更新日期：2025-06-30*  
*適用於：Gradebook System with HT Dashboard Web App*